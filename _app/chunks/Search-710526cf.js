import{S as Z,i as w,s as x,B as T,e as S,t as D,j as L,c as A,a as I,g as P,l as B,d as y,b as v,E as p,f as V,F as k,a3 as $,R as E,h as ee,a4 as te,V as N,a5 as O,Q as U,y as le,G as C,H as se,a6 as F,a7 as ne,a8 as ae,X as ue}from"./vendor-61e2293a.js";import{R as oe}from"./Regex-c2d27ea0.js";function G(l,t,e){const f=l.slice();return f[20]=t[e],f[22]=e,f}function H(l){let t;return{c(){t=D("...")},l(e){t=P(e,"...")},m(e,f){V(e,t,f)},d(e){e&&y(t)}}}function Q(l){let t,e=l[20].label+"",f,i,_,b,d,m;function c(){return l[19](l[22])}return{c(){t=S("option"),f=D(e),i=L(),this.h()},l(a){t=A(a,"OPTION",{class:!0});var s=I(t);f=P(s,e),i=B(s),s.forEach(y),this.h()},h(){t.__value=_=`
				`+l[20].label+`
			`,t.value=t.__value,v(t,"class","svelte-3tbbn4"),p(t,"current",l[22]===l[5])},m(a,s){V(a,t,s),k(t,f),k(t,i),d||(m=[$(b=l[8].call(null,t,l[22]===l[5])),E(t,"mousedown",c)],d=!0)},p(a,s){l=a,s&64&&e!==(e=l[20].label+"")&&ee(f,e),s&64&&_!==(_=`
				`+l[20].label+`
			`)&&(t.__value=_,t.value=t.__value),b&&te(b.update)&&s&32&&b.update.call(null,l[22]===l[5]),s&32&&p(t,"current",l[22]===l[5])},d(a){a&&y(t),d=!1,N(m)}}}function ie(l){let t,e,f,i,_,b,d=[{type:"search"},l[10]],m={};for(let n=0;n<d.length;n+=1)m=T(m,d[n]);let c=l[6],a=[];for(let n=0;n<c.length;n+=1)a[n]=Q(G(l,c,n));let s=null;return c.length||(s=H()),{c(){t=S("label"),e=S("input"),f=L(),i=S("datalist");for(let n=0;n<a.length;n+=1)a[n].c();s&&s.c(),this.h()},l(n){t=A(n,"LABEL",{style:!0,class:!0});var r=I(t);e=A(r,"INPUT",{type:!0}),f=B(r),i=A(r,"DATALIST",{class:!0});var o=I(i);for(let g=0;g<a.length;g+=1)a[g].l(o);s&&s.l(o),o.forEach(y),r.forEach(y),this.h()},h(){O(e,m),p(e,"svelte-3tbbn4",!0),v(i,"class","svelte-3tbbn4"),p(i,"bottom",l[4]),v(t,"style",l[3]),v(t,"class","svelte-3tbbn4")},m(n,r){V(n,t,r),k(t,e),e.autofocus&&e.focus(),l[14](e),U(e,l[0]),k(t,f),k(t,i);for(let o=0;o<a.length;o+=1)a[o].m(i,null);s&&s.m(i,null),_||(b=[E(e,"input",l[15]),E(e,"focus",l[16]),E(e,"blur",l[17]),E(e,"keydown",l[18])],_=!0)},p(n,[r]){if(O(e,m=le(d,[{type:"search"},r&1024&&n[10]])),r&1&&U(e,n[0]),p(e,"svelte-3tbbn4",!0),r&608){c=n[6];let o;for(o=0;o<c.length;o+=1){const g=G(n,c,o);a[o]?a[o].p(g,r):(a[o]=Q(g),a[o].c(),a[o].m(i,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=c.length,c.length?s&&(s.d(1),s=null):s||(s=H(),s.c(),s.m(i,null))}r&16&&p(i,"bottom",n[4]),r&8&&v(t,"style",n[3])},i:C,o:C,d(n){n&&y(t),l[14](null),se(a,n),s&&s.d(),_=!1,N(b)}}}function fe(l,t,e){let f,i;const _=["style","options","input","query","value","bottom","focused"];let b=F(t,_);const d=ne();let{style:m=void 0}=t,{options:c=[]}=t,{input:a=void 0}=t,{query:s=""}=t,{value:n=void 0}=t,{bottom:r=!1}=t,{focused:o=!1}=t;const g=(u,q)=>{const j=Y=>{Y&&u.scrollIntoView({block:"nearest"})};return j(q),{update:j}},R=u=>{const q=i[u];e(0,s=q.label),e(11,n=q.value)};let h=0;function X(u){ue[u?"unshift":"push"](()=>{a=u,e(1,a)})}function z(){s=this.value,e(0,s)}const J=()=>e(2,o=!0),K=()=>e(2,o=!1),M=u=>{switch(u.key){case"ArrowUp":e(5,h--,h);break;case"ArrowDown":e(5,h++,h);break;case"Enter":case"Tab":i[h]?R(h):d("unfound");break}},W=u=>R(u);return l.$$set=u=>{t=T(T({},t),ae(u)),e(10,b=F(t,_)),"style"in u&&e(3,m=u.style),"options"in u&&e(12,c=u.options),"input"in u&&e(1,a=u.input),"query"in u&&e(0,s=u.query),"value"in u&&e(11,n=u.value),"bottom"in u&&e(4,r=u.bottom),"focused"in u&&e(2,o=u.focused)},l.$$.update=()=>{l.$$.dirty&1&&e(13,f=new RegExp(oe.escape(s),"gi")),l.$$.dirty&12288&&e(6,i=c.filter(u=>u.label.match(f))),l.$$.dirty&64&&i.length===1&&e(11,n=i[0].value),l.$$.dirty&96&&(h<0&&e(5,h=0),h>i.length-1&&e(5,h=i.length-1))},[s,a,o,m,r,h,i,d,g,R,b,n,c,f,X,z,J,K,M,W]}class _e extends Z{constructor(t){super();w(this,t,fe,ie,x,{style:3,options:12,input:1,query:0,value:11,bottom:4,focused:2})}}export{_e as S};
